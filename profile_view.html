{% extends "base.html" %}

{% block title %}{{ user.full_name or user.username }} - Droply{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="profile-card">
                <!-- Profile header content here -->
            </div>
            
            <!-- Available Sessions Section -->
            <div class="sessions-section mt-5">
                <h3 class="fw-bold text-center mb-4">Available Sessions</h3>
                {% if available_slots %}
                    <div class="row g-3">
                        {% for slot in available_slots %}
                        <div class="col-md-6">
                            <div class="card time-slot-card h-100">
                                <div class="card-body d-flex flex-column">
                                    <h5 class="card-title fw-bold">{{ slot.title or 'Session' }}</h5>
                                    <p class="card-text text-muted mb-2">
                                        <i data-feather="calendar" class="me-1" style="width:16px; vertical-align: text-bottom;"></i>{{ slot.start_datetime.strftime('%B %d, %Y') }}
                                    </p>
                                    <p class="card-text text-muted">
                                        <i data-feather="clock" class="me-1" style="width:16px; vertical-align: text-bottom;"></i>{{ slot.start_datetime.strftime('%-I:%M %p') }} - {{ slot.end_datetime.strftime('%-I:%M %p') }}
                                    </p>
                                    {% if slot.description %}
                                        <p class="card-text small mt-3">{{ slot.description }}</p>
                                    {% endif %}
                                    <div class="mt-auto pt-3">
                                        <a href="{{ url_for('book_session', slot_id=slot.id, next=request.full_path) }}" class="btn btn-primary w-100">Book Session</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="text-center text-muted p-4 border rounded-3 bg-light">
                        <i data-feather="calendar" class="mb-2" style="width:32px; height:32px;"></i>
                        <p class="mb-0">This user has no upcoming availability.</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
.time-slot-card {
    border-radius: 12px;
    border: 1px solid #e3f0ff;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.04);
}
.time-slot-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    border-color: #3c78ff;
}
.profile-card {
    background: white;
    border-radius: 24px;
}
</style>
{% endblock %} 